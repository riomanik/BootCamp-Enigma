let getRepository,User;_e11‍.x([["default",()=>UserRepository]]);_e11‍.w("typeorm",[["getRepository",["getRepository"],function(v){getRepository=v}]]);_e11‍.w("../model/user.model",[["default",["User"],function(v){User=v}]]);


               class UserRepository {
  userRepository() {
    return getRepository(User);
  }

  async findAllUser() {
    const user = await getRepository(User)
      .createQueryBuilder("User")
      .innerJoinAndSelect("User.userInfo", "p");

    // console.log(user()

    const data = user.getMany();
    return data;
  }

  // async findAll() {
  //   const user = await this.userRepository().find();
  //   return user;
  // }

  // async findOne(id) {
  //   const user = await this.userRepository()
  //     .createQueryBuilder("user")
  //     .innerJoinAndSelect(("UserInfo.user", "user").getOne());
  //   return user;
  // }

  async findOne(id) {
    const user = await this.userRepository().find({
      where: { idUser: id }
    });
    return user;
  }

  async saveUser(user) {
    await _e11‍.g.console.log(user);
    const saveUser = await this.userRepository().save(user);
    await _e11‍.g.console.log(saveUser);
    return saveUser;
  }
}
