let configure,express,createDbConnection,appMiddleware,AppRouter;_fdf‍.w("./config",[["default",["configure"],function(v){configure=v}]]);_fdf‍.w("express",[["default",["express"],function(v){express=v}]]);_fdf‍.w("./database/connection",[["default",["createDbConnection"],function(v){createDbConnection=v}]]);_fdf‍.w("./middlewares/app-middleware",[["default",["appMiddleware"],function(v){appMiddleware=v}]]);_fdf‍.w("./routes",[["default",["AppRouter"],function(v){AppRouter=v}]]);





configure();

createDbConnection()
  .then(connection => {
    if (connection.isConnected) {
      const app = express();
      app.use(appMiddleware);
      app.use(AppRouter);
      app.listen(process.env.APP_PORT, () => {
        console.log(
          `${process.env.APP_NAME} listening on port ${process.env.APP_PORT}!`
        );
      });
    }
  })
  .catch(error => {
    console.error("Error starting up server.");
    _fdf‍.g.console.error(error);
  });

// connection.query("SELECT * from heroes", function(err, rows, fields) {
//   if (err) throw err;

//   console.log("data: ", rows);
//   let hero = rows;
//   let heroFilter = hero.filter(hero => hero.name === "rafaela");
//   console.log(JSON.stringify(hero[3]) + " ini adalah data ke 4 ");
//   console.log(JSON.stringify(hero[0].name) + " ini hero");
// });

// connection.end();
